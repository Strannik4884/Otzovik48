--
-- PostgreSQL database dump
--

-- Dumped from database version 11.2
-- Dumped by pg_dump version 11.2

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: comment; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.comment (
    id integer NOT NULL,
    by_user_id integer NOT NULL,
    for_product_id integer NOT NULL,
    text character varying(512) NOT NULL,
    rating integer NOT NULL,
    created_date timestamp(0) without time zone NOT NULL
);


ALTER TABLE public.comment OWNER TO postgres;

--
-- Name: comment_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.comment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.comment_id_seq OWNER TO postgres;

--
-- Name: migration_versions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.migration_versions (
    version character varying(14) NOT NULL,
    executed_at timestamp(0) without time zone NOT NULL
);


ALTER TABLE public.migration_versions OWNER TO postgres;

--
-- Name: COLUMN migration_versions.executed_at; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.migration_versions.executed_at IS '(DC2Type:datetime_immutable)';


--
-- Name: product; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product (
    id integer NOT NULL,
    name character varying(100) NOT NULL,
    description character varying(512) NOT NULL,
    created_date timestamp(0) without time zone NOT NULL
);


ALTER TABLE public.product OWNER TO postgres;

--
-- Name: product_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.product_id_seq OWNER TO postgres;

--
-- Name: user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."user" (
    id integer NOT NULL,
    password character varying(255) NOT NULL,
    roles json NOT NULL,
    email character varying(255) NOT NULL,
    name character varying(100) NOT NULL
);


ALTER TABLE public."user" OWNER TO postgres;

--
-- Name: user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.user_id_seq OWNER TO postgres;

--
-- Data for Name: comment; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.comment (id, by_user_id, for_product_id, text, rating, created_date) FROM stdin;
\.


--
-- Data for Name: migration_versions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.migration_versions (version, executed_at) FROM stdin;
20200530230052	2020-05-30 23:00:57
20200530235041	2020-05-30 23:50:58
20200602161627	2020-06-02 16:16:45
20200604142643	2020-06-04 14:27:31
20200604143053	2020-06-04 14:31:00
20200604143937	2020-06-04 14:40:38
\.


--
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.product (id, name, description, created_date) FROM stdin;
2	Телефон Highscreen Zera S Power	Лучший телефон	2020-06-02 19:18:15
3	Телефон Highscreen Zera S Power	Лучший телефон	2020-06-02 19:18:15
4	Телефон Highscreen Zera S Power	Лучший телефон	2020-06-02 19:18:15
5	Телефон Highscreen Zera S Power	Лучший телефон	2020-06-02 19:18:15
6	Телефон Highscreen Zera S Power	Лучший телефон	2020-06-02 19:18:18
7	Телефон Highscreen Zera S Power	Лучший телефон	2020-06-02 19:18:15
8	Телефон Highscreen Zera S Power	Лучший телефон	2020-06-02 19:18:15
9	Телефон Highscreen Zera S Power	Лучший телефон	2020-06-02 19:18:15
10	Телефон Highscreen Zera S Power	Лучший телефон	2020-06-02 19:18:15
1	Телефон Highscreen Zera S Power	Лучший телефон	2020-06-02 19:18:15
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."user" (id, password, roles, email, name) FROM stdin;
3	$argon2id$v=19$m=65536,t=4,p=1$OyJuYXDzoRE0zasOKUqQPA$aFVQOEcaNrI2z8KbM+yQqWKLXOEeCnAQ98kiJaUmYh8	["ROLE_USER"]	test@test.ru	Тестов Тест Тестович
4	$argon2id$v=19$m=65536,t=4,p=1$t+Y+AwavXoDkynxrKAbmXw$6jwMGQUcUElpZQ0UkQQxQs14R1J6PjmadHsYf83FPeE	["ROLE_ADMIN"]	admin@lstu-app.ru	Admin
8	$argon2id$v=19$m=65536,t=4,p=1$OOqtu4LCj4YdNeV1QQbuiA$Ab6d+UprI0ErhFgc+EypbbiZJO1PR3DAw3BeucIdNVc	["ROLE_USER"]	strannik4884@mail.ru	Пархомов Александр Сергеевич
\.


--
-- Name: comment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.comment_id_seq', 1, false);


--
-- Name: product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_id_seq', 3, true);


--
-- Name: user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_id_seq', 8, true);


--
-- Name: comment comment_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comment
    ADD CONSTRAINT comment_pkey PRIMARY KEY (id);


--
-- Name: migration_versions migration_versions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.migration_versions
    ADD CONSTRAINT migration_versions_pkey PRIMARY KEY (version);


--
-- Name: product product_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_pkey PRIMARY KEY (id);


--
-- Name: user user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: idx_9474526c91e8a96; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_9474526c91e8a96 ON public.comment USING btree (for_product_id);


--
-- Name: idx_9474526cdc9c2434; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_9474526cdc9c2434 ON public.comment USING btree (by_user_id);


--
-- Name: comment fk_9474526c91e8a96; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comment
    ADD CONSTRAINT fk_9474526c91e8a96 FOREIGN KEY (for_product_id) REFERENCES public.product(id);


--
-- Name: comment fk_9474526cdc9c2434; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comment
    ADD CONSTRAINT fk_9474526cdc9c2434 FOREIGN KEY (by_user_id) REFERENCES public."user"(id);


--
-- PostgreSQL database dump complete
--

